# web-components

I'm very interested in web components. I love html and the fundamental bare-bones web. I still think there's something missing from being able to simply serve files on a webserver and along with that easily get interactivity. This repo uses deno and typescript to create web-components and spits them out as browser-based js. The first one used to demo this repo is `input-repeat` it allows you to create children within the element and allows a user to add series of these items. Because the element is a web-component it uses plain forms and inputs to do the lifiting and is completly flexable using `data` attributes. 

## Some issue

The main issue with the current input-repeat is that it needs mutationObserver and that thing is bulky it doesn't seem to fire when the component is added to the dom programatically it also fires multiple times, while that's the point it means that, more often than not when I want to use it it infinitialy runs, especally in the recursive cases where components like input-repeat and input-schema are going to potentially have nested versions within themselves. The fact of the matter is the DOM is a weird beast, and thinking about the DOM and state is different and presents it's own challenges. For one when the input-repeat searches for the item template this code doesn't need to re-render, it starts out with whatever relationship it will have and that doesn't need to change. What does need to be able to update after the element has been added to the DOM is the value attribute, because I can imagine the element is on the dom and I set the value programatically after the initial placement of the custom element on the DOM. This seems to be trackable with either MutationObserver and the attribute flag or the static getter get observedAttributes. One thing that is a bummer is that the web-component isn't able to get the template on the page until the dom has rendered, I may be able to fix this by setting the script at the bottom of the body, which would mean no need for any dom listeners. There are two potential fixes, a global document.addEventListener('DOMContentLoaded'... or one that fires at the end of the doc.
